<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<script src="https://unpkg.com/htmx.org@1.9.6"></script>
	<link rel="stylesheet" href="../static/index.css">
	<link rel="stylesheet" href="../static/tailwind.css">
	<title>HTMX GO GO GO</title>
</head>

<body class="">
	<main class="container mx-auto w-full">
		<div class="flex flex-col gap-3 justify-center mt-20 ">
			<div class="flex flex-row justify-between w-full">
				<div class="flex flex-col" id="books">
					{{range .books}}
					<p>{{.Title}} {{.Author}}</p>
					{{end}}
				</div>

				<form hx-target="#books" hx-swap="beforeend" hx-post="/add" hx-indicator="#submit-btn">
					<div class="flex flex-col">
						<label for="name">Book Name</label>
						<input name="title" class="border-2 rounded-md px-2 py-1 outline-none" type="text">
						<label for="name">Author Name</label>
						<input name="author" class="border-2 rounded-md px-2 py-1 outline-none" type="text">

						<button id="submit-btn" type="submit"
							class="my-2 bg-blue-600 text-white hover:opacity-80 px-4 py-2 rounded-md flex flex-row items-center justify-center submit-btn">
							<div id="spinner"
								class=" h-4 w-4 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite] htmx-indicator "
								role="status">
								<span
									class="!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]">Loading...</span>
							</div>
							<span class="hideme">Add</span>
						</button>
					</div>

				</form>

			</div>
		</div>
	</main>
</body>

</html>
